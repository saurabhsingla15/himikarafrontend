'use strict';Object.defineProperty(exports,"__esModule",{value:!0});function g(c){return c&&"object"===typeof c&&"default"in c?c["default"]:c}
var k=g(require("babel-runtime/core-js/object/get-prototype-of")),m=g(require("babel-runtime/helpers/classCallCheck")),p=g(require("babel-runtime/helpers/createClass")),q=g(require("babel-runtime/helpers/possibleConstructorReturn")),r=g(require("babel-runtime/helpers/inherits")),t=require("react"),v=g(require("prop-types")),x=g(require("hash-sum")),z=require("@lingui/core"),A=g(require("babel-runtime/helpers/extends")),B=g(require("hoist-non-react-statics")),C=g(require("babel-runtime/core-js/get-iterator")),
D=g(require("babel-runtime/helpers/slicedToArray")),F=g(require("babel-runtime/core-js/object/keys")),G=g(require("babel-runtime/helpers/toConsumableArray")),H=g(require("babel-runtime/helpers/objectWithoutProperties"));
function K(c){var b=[];return{i18n:c,i18nHash:null,getSubscribers:function(){return b},subscribe:function(a){b.push(a)},unsubscribe:function(a){b=b.filter(function(b){return b!==a})},update:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a){var e=a.catalogs,d=a.language;a=a.locales;if(e||d||a)e&&c.load(e),d&&c.activate(d,a),this.i18nHash=x([c.language,c.messages]),b.forEach(function(a){return a()})}}}}
var L=function(c){function b(a){m(this,b);var e=q(this,(b.__proto__||k(b)).call(this,a)),d=a.language,c=a.locales,h=a.catalogs;a=a.i18n||z.setupI18n({language:d,locales:c,catalogs:h});e.linguiPublisher=K(a);e.linguiPublisher.i18n._missing=e.props.missing;return e}r(b,c);p(b,[{key:"componentDidUpdate",value:function(a){var b=this.props,d=b.language,c=b.locales;b=b.catalogs;d===a.language&&c===a.locales&&b===a.catalogs||this.linguiPublisher.update({language:d,catalogs:b,locales:c});this.linguiPublisher.i18n._missing=
this.props.missing}},{key:"getChildContext",value:function(){return{linguiPublisher:this.linguiPublisher,linguiDefaultRender:this.props.defaultRender}}},{key:"render",value:function(){return this.props.children||null}}]);return b}(t.Component);L.defaultProps={defaultRender:null};L.childContextTypes={linguiPublisher:v.object.isRequired,linguiDefaultRender:v.any};
var M=function(c){function b(){var a,c,d,f;m(this,b);for(var h=arguments.length,l=Array(h),u=0;u<h;u++)l[u]=arguments[u];return f=(c=(d=q(this,(a=b.__proto__||k(b)).call.apply(a,[this].concat(l))),d),d.checkUpdate=function(){d.forceUpdate()},c),q(d,f)}r(b,c);p(b,[{key:"componentDidMount",value:function(){var a=this.getI18n().subscribe;this.props.update&&a&&a(this.checkUpdate)}},{key:"componentWillUnmount",value:function(){var a=this.getI18n().unsubscribe;this.props.update&&a&&a(this.checkUpdate)}},
{key:"getI18n",value:function(){return this.context.linguiPublisher||{}}},{key:"render",value:function(){var a=this.props,b=a.children;a=a.withHash;var c=this.getI18n(),f=c.i18nHash;a=A({i18n:c.i18n},a?{i18nHash:f}:{});return"function"===typeof b?b(a):t.isValidElement(b)?t.cloneElement(b,a):t.createElement(b,a)}}]);return b}(t.Component);M.defaultProps={update:!0,withHash:!0};M.contextTypes={linguiPublisher:v.object};
function N(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(b){var a=c.update,e=void 0===a?!0:a;a=c.withHash;var d=void 0===a?!0:a;a=c.withRef;var f=void 0===a?!1:a;a=function(a){function c(){var a,b,d,e;m(this,c);for(var l=arguments.length,h=Array(l),w=0;w<l;w++)h[w]=arguments[w];return e=(b=(d=q(this,(a=c.__proto__||k(c)).call.apply(a,[this].concat(h))),d),d.wrappedInstance=null,d.setWrappedInstance=function(a){f&&(d.wrappedInstance=a)},d.getWrappedInstance=function(){if(!f)throw Error("To access the wrapped instance, you need to specify { withRef: true } in the options argument of the withI18n() call.");
return d.wrappedInstance},b),q(d,e)}r(c,a);p(c,[{key:"render",value:function(){var a=A({},this.props,f?{ref:this.setWrappedInstance}:{});return t.createElement(M,{update:e,withHash:d},function(c){return t.createElement(b,A({},a,{i18n:c.i18n,i18nHash:c.i18nHash}))})}}]);return c}(t.Component);a.contextTypes={linguiPublisher:v.object};return B(a,b)}}var O=/<(\d+)>(.*)<\/\1>|<(\d+)\/>/,P=/(?:\r\n|\r|\n)/g;
function Q(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=c.replace(P,"").split(O);if(1===a.length)return c;var e=[],d=a.shift();d&&e.push(d);d=!0;var f=!1,h=void 0;try{for(var l=C(R(a)),u;!(d=(u=l.next()).done);d=!0){var E=D(u.value,3),I=E[0],J=E[1],y=E[2],n=b[I];e.push(t.cloneElement(n,{key:I},J?Q(J,b):n.props.children));y&&e.push(y)}}catch(w){f=!0,h=w}finally{try{!d&&l.return&&l.return()}finally{if(f)throw h;}}return e}
function R(c){if(!c.length)return[];var b=c.slice(0,4);b=D(b,4);var a=b[1],e=b[2],d=b[3];return[[parseInt(b[0]||e),a||"",d]].concat(R(c.slice(4,c.length)))}
var S=function(c){function b(){m(this,b);return q(this,(b.__proto__||k(b)).apply(this,arguments))}r(b,c);p(b,[{key:"render",value:function(){var a=this.props,b=a.className;a=a.value;var c=this.props.render||this.context.linguiDefaultRender;return null===c||void 0===c?a||null:"string"===typeof c?t.createElement(c,{className:b},a):t.isValidElement(c)?t.cloneElement(c,{},a):t.createElement(c,{translation:a})}}]);return b}(t.Component);S.contextTypes={linguiDefaultRender:v.any};
var T=function(c){function b(){m(this,b);return q(this,(b.__proto__||k(b)).apply(this,arguments))}r(b,c);p(b,[{key:"componentDidMount",value:function(){}},{key:"getTranslation",value:function(){var a=this.props,b=a.id;b=void 0===b?"":b;var c=a.defaults,f=a.i18n;a=a.formats;var h=A({},this.props.values),l=this.props.components?[].concat(G(this.props.components)):[];h&&F(h).forEach(function(a){var b=h[a];t.isValidElement(b)&&(b=l.push(b)-1,h[a]="\x3c"+b+"/\x3e")});return(a=f&&"function"===typeof f._?
f._(b,h,{defaults:c,formats:a}):b)?Q(a,l):null}},{key:"render",value:function(){return t.createElement(S,{render:this.props.render,className:this.props.className,value:this.getTranslation()})}}]);return b}(t.Component),U=N()(T),V=N()(function(c){function b(){m(this,b);return q(this,(b.__proto__||k(b)).apply(this,arguments))}r(b,c);p(b,[{key:"render",value:function(){var a=this.props,b=a.className,c=a.render,f=a.i18n;a=H(a,["className","render","i18n"]);return t.createElement(S,{className:b,render:c,
value:f.select(a)})}}]);return b}(t.Component));
function W(){var c,b,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,e=a?"SelectOrdinal":"Plural",d=a?"selectOrdinal":"plural";return b=c=function(a){function b(){var a,c,d,f;m(this,b);for(var h=arguments.length,y=Array(h),n=0;n<h;n++)y[n]=arguments[n];return f=(c=(d=q(this,(a=b.__proto__||k(b)).call.apply(a,[this].concat(y))),d),d.displayName=e,c),q(d,f)}r(b,a);p(b,[{key:"render",value:function(){var a=this.props,b=a.className,c=a.render,e=a.i18n,f=a.value,h=a.offset,n=H(a,["className",
"render","i18n","value","offset"]);a=F(n).reduce(function(a,b){var c=b.replace("_","");a[c]=n[b];return a},{value:Number(f),offset:Number(h)});return t.createElement(S,{className:b,render:c,value:e[d](a)})}}]);return b}(t.Component),c.defaultProps={offset:0},b}var X=N()(W(!1)),Y=N()(W(!0));function Z(c){return function(b){var a=b.value,e=b.i18n,d=b.className,f=b.render;b=c(e.locales||e.language,b.format);return t.createElement(S,{className:d,render:f,value:b(a)})}}var aa=N()(Z(z.date)),ba=N()(Z(z.number));
exports.i18nMark=function(c){return c};exports.withI18n=N;exports.I18nProvider=L;exports.I18n=M;exports.Trans=U;exports.Plural=X;exports.Select=V;exports.SelectOrdinal=Y;exports.DateFormat=aa;exports.NumberFormat=ba;
